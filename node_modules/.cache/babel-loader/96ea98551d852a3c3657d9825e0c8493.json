{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\wanna-type\\\\src\\\\Components\\\\CustomInput\\\\CustomInput.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as PropTypes from 'prop-types';\nimport FinishBoard from '../Board/FinishBoard';\nimport style from './CustomInput.module.css';\nimport ChangeLayout from '../common/ChangeLayout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomInput1 = props => {\n  _s();\n\n  const [disabled, handleDisable] = React.useState(false);\n  const [changeLayout, changeLayoutHandler] = React.useState(false);\n  const [result, changeResult] = React.useState(false);\n  const [msPassed, msPassedHandler] = React.useState(0);\n\n  const handleChange = event => {\n    let inputValue = event.target.value;\n    let generatedText = props.generatedText;\n    let allowedSymbols = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', ',', '.', `'`, ' ', ';', ':'];\n\n    if (inputValue.length === 1) {\n      msPassedHandler(new Date().getTime());\n    }\n\n    if (allowedSymbols.includes(inputValue.slice(-1))) {\n      handleMistake(inputValue, generatedText);\n      handleComplete(inputValue, generatedText);\n      completionPercentage(inputValue, generatedText);\n      charactersPerMinute(inputValue);\n      carriage();\n      props.passLastLetter(inputValue.slice(-1));\n    } else {\n      layoutHandler(true);\n    }\n  };\n\n  const handleMistake = (inputValue, generatedText) => {\n    if (props.numberOfMistake === 2) {\n      handleDisable();\n    }\n\n    if (inputValue.slice(-1) !== generatedText[inputValue.length - 1]) {\n      props.mistakeCounter();\n      props.handleMistake(true);\n    } else {\n      props.handleMistake(false);\n    }\n  };\n\n  const completionPercentage = (inputValue, generatedText) => {\n    let percentage = Math.ceil(inputValue.length / generatedText.length * 100);\n    props.completionPercentage(percentage);\n  };\n\n  const charactersPerMinute = inputValue => {\n    let timePassedMs = new Date().getTime();\n    let timePassedMin = (timePassedMs - msPassed) / 1000 / 60;\n    let cpm = Math.ceil(inputValue.length / timePassedMin);\n    props.charactersPerMinute(cpm);\n  };\n\n  const handleComplete = (inputValue, generatedText) => {\n    if (inputValue.length === generatedText.length) {\n      changeResult(true);\n      handleDisable();\n    }\n  }; // handleDisable = () => {\n  //     this.setState({ disabled: true });\n  // }\n\n\n  const layoutHandler = boolean => {\n    this.setState({\n      changeLayout: boolean\n    });\n  };\n\n  const carriage = () => {\n    let leftText = document.getElementById('leftText');\n    let finishText = document.getElementById('finishText');\n    finishText.textContent += leftText.textContent[0];\n    leftText.textContent = leftText.textContent.slice(1);\n  };\n\n  conmsreloadLesson = () => {\n    this.setState({\n      startTimeMs: 0,\n      changeLayout: false,\n      disabled: false,\n      result: false\n    });\n    let finishText = document.getElementById('finishText');\n    let leftText = document.getElementById('leftText');\n    let inputField = document.getElementById('inputField');\n    finishText.textContent = '';\n    leftText.textContent = '';\n    inputField.value = '';\n    this.props.reloadLesson();\n  };\n\n  render = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.InputBox,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        autoFocus: true,\n        disabled: this.state.disabled,\n        onChange: this.handleChange,\n        id: \"inputField\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: style.displayText,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"finishText\",\n          className: style.cursor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"leftText\",\n          className: style.unfinishedText,\n          children: this.props.generatedText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), this.state.disabled && /*#__PURE__*/_jsxDEV(FinishBoard, {\n        result: this.state.result,\n        reloadLesson: this.reloadLesson\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }, this), this.state.changeLayout && /*#__PURE__*/_jsxDEV(ChangeLayout, {\n        layoutHandler: this.layoutHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  };\n};\n\n_s(CustomInput1, \"bpd84zjEIvQ78J9ioFfc0Gy3rsU=\");\n\n_c = CustomInput1;\n\nclass CustomInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      let inputValue = event.target.value;\n      let generatedText = this.props.generatedText;\n      let allowedSymbols = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', ',', '.', `'`, ' ', ';', ':'];\n\n      if (inputValue.length === 1) {\n        this.setState({\n          startTimeMs: new Date().getTime()\n        });\n      }\n\n      if (allowedSymbols.includes(inputValue.slice(-1))) {\n        this.handleMistake(inputValue, generatedText);\n        this.handleComplete(inputValue, generatedText);\n        this.completionPercentage(inputValue, generatedText);\n        this.charactersPerMinute(inputValue);\n        this.carriage();\n        this.props.passLastLetter(inputValue.slice(-1));\n      } else {\n        this.layoutHandler(true);\n      }\n    };\n\n    this.handleMistake = (inputValue, generatedText) => {\n      if (this.props.numberOfMistake === 2) {\n        this.handleDisable();\n      }\n\n      if (inputValue.slice(-1) !== generatedText[inputValue.length - 1]) {\n        this.props.mistakeCounter();\n        this.props.handleMistake(true);\n      } else {\n        this.props.handleMistake(false);\n      }\n    };\n\n    this.completionPercentage = (inputValue, generatedText) => {\n      let percentage = Math.ceil(inputValue.length / generatedText.length * 100);\n      this.props.completionPercentage(percentage);\n    };\n\n    this.charactersPerMinute = inputValue => {\n      let startTimeMs = this.state.startTimeMs;\n      let timePassedMs = new Date().getTime();\n      let timePassedMin = (timePassedMs - startTimeMs) / 1000 / 60;\n      let cpm = Math.ceil(inputValue.length / timePassedMin);\n      this.props.charactersPerMinute(cpm);\n    };\n\n    this.handleComplete = (inputValue, generatedText) => {\n      if (inputValue.length === generatedText.length) {\n        this.setState({\n          result: true\n        });\n        this.handleDisable();\n      }\n    };\n\n    this.handleDisable = () => {\n      this.setState({\n        disabled: true\n      });\n    };\n\n    this.layoutHandler = boolean => {\n      this.setState({\n        changeLayout: boolean\n      });\n    };\n\n    this.carriage = () => {\n      let leftText = document.getElementById('leftText');\n      let finishText = document.getElementById('finishText');\n      finishText.textContent += leftText.textContent[0];\n      leftText.textContent = leftText.textContent.slice(1);\n    };\n\n    this.reloadLesson = () => {\n      this.setState({\n        startTimeMs: 0,\n        changeLayout: false,\n        disabled: false,\n        result: false\n      });\n      let finishText = document.getElementById('finishText');\n      let leftText = document.getElementById('leftText');\n      let inputField = document.getElementById('inputField');\n      finishText.textContent = '';\n      leftText.textContent = '';\n      inputField.value = '';\n      this.props.reloadLesson();\n    };\n\n    this.render = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.InputBox,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          autoFocus: true,\n          disabled: this.state.disabled,\n          onChange: this.handleChange,\n          id: \"inputField\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: style.displayText,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"finishText\",\n            className: style.cursor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"leftText\",\n            className: style.unfinishedText,\n            children: this.props.generatedText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 17\n        }, this), this.state.disabled && /*#__PURE__*/_jsxDEV(FinishBoard, {\n          result: this.state.result,\n          reloadLesson: this.reloadLesson\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 41\n        }, this), this.state.changeLayout && /*#__PURE__*/_jsxDEV(ChangeLayout, {\n          layoutHandler: this.layoutHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = {\n      startTimeMs: 0,\n      changeLayout: false,\n      disabled: false,\n      result: false\n    };\n  }\n\n}\n\nCustomInput.propTypes = {\n  generatedText: PropTypes.string,\n  reloadLesson: PropTypes.func,\n  numberOfMistake: PropTypes.number,\n  handleMistake: PropTypes.func,\n  mistakeCounter: PropTypes.func,\n  completionPercentage: PropTypes.func,\n  charactersPerMinute: PropTypes.func,\n  passLastLetter: PropTypes.func\n};\nexport default CustomInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomInput1\");","map":{"version":3,"sources":["C:/projects/wanna-type/src/Components/CustomInput/CustomInput.jsx"],"names":["React","PropTypes","FinishBoard","style","ChangeLayout","CustomInput1","props","disabled","handleDisable","useState","changeLayout","changeLayoutHandler","result","changeResult","msPassed","msPassedHandler","handleChange","event","inputValue","target","value","generatedText","allowedSymbols","length","Date","getTime","includes","slice","handleMistake","handleComplete","completionPercentage","charactersPerMinute","carriage","passLastLetter","layoutHandler","numberOfMistake","mistakeCounter","percentage","Math","ceil","timePassedMs","timePassedMin","cpm","boolean","setState","leftText","document","getElementById","finishText","textContent","conmsreloadLesson","startTimeMs","inputField","reloadLesson","render","InputBox","state","displayText","cursor","unfinishedText","CustomInput","Component","constructor","propTypes","string","func","number"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport FinishBoard from '../Board/FinishBoard';\r\nimport style from './CustomInput.module.css';\r\nimport ChangeLayout from '../common/ChangeLayout';\r\n\r\n\r\nconst CustomInput1 = (props) => {\r\n    const [disabled, handleDisable] = React.useState(false);\r\n    const [changeLayout, changeLayoutHandler] = React.useState(false);\r\n    const [result, changeResult] = React.useState(false);\r\n    const [msPassed, msPassedHandler] = React.useState(0);\r\n\r\n    const handleChange = (event) => {\r\n        let inputValue = event.target.value;\r\n        let generatedText = props.generatedText;\r\n\r\n        let allowedSymbols = [\r\n            'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',\r\n            'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\r\n            'u', 'v', 'w', 'x', 'y', 'z',\r\n            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',\r\n            'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',\r\n            'U', 'V', 'W', 'X', 'Y', 'Z',\r\n            '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',\r\n            ',', '.', `'`, ' ', ';', ':'\r\n        ];\r\n\r\n        if (inputValue.length === 1) {\r\n            msPassedHandler(new Date().getTime());\r\n        }\r\n\r\n        if (allowedSymbols.includes(inputValue.slice(-1))) {\r\n            handleMistake(inputValue, generatedText);\r\n            handleComplete(inputValue, generatedText);\r\n            completionPercentage(inputValue, generatedText);\r\n            charactersPerMinute(inputValue);\r\n\r\n            carriage();\r\n            props.passLastLetter(inputValue.slice(-1));\r\n\r\n        } else {\r\n            layoutHandler(true);\r\n        }\r\n    };\r\n\r\n    const handleMistake = (inputValue, generatedText) => {\r\n\r\n        if (props.numberOfMistake === 2) {\r\n            handleDisable();\r\n        }\r\n\r\n        if (inputValue.slice(-1) !== generatedText[inputValue.length - 1]) {\r\n            props.mistakeCounter();\r\n            props.handleMistake(true);\r\n        } else {\r\n            props.handleMistake(false);\r\n        }\r\n    };\r\n\r\n    const completionPercentage = (inputValue, generatedText) => {\r\n        let percentage = Math.ceil(inputValue.length / generatedText.length * 100);\r\n        props.completionPercentage(percentage);\r\n    };\r\n\r\n    const charactersPerMinute = (inputValue) => {\r\n        let timePassedMs = new Date().getTime();\r\n        let timePassedMin = (timePassedMs - msPassed) / 1000 / 60;\r\n        let cpm = Math.ceil(inputValue.length / timePassedMin);\r\n\r\n        props.charactersPerMinute(cpm);\r\n    };\r\n\r\n    const handleComplete = (inputValue, generatedText) => {\r\n        if (inputValue.length === generatedText.length) {\r\n            changeResult(true);\r\n            handleDisable();\r\n        }\r\n    };\r\n\r\n    // handleDisable = () => {\r\n    //     this.setState({ disabled: true });\r\n    // }\r\n\r\n    const layoutHandler = (boolean) => {\r\n        this.setState({ changeLayout: boolean })\r\n    };\r\n\r\n    const carriage = () => {\r\n        let leftText = document.getElementById('leftText');\r\n        let finishText = document.getElementById('finishText');\r\n\r\n        finishText.textContent += leftText.textContent[0];\r\n        leftText.textContent = leftText.textContent.slice(1);\r\n    };\r\n\r\n    conmsreloadLesson = () => {\r\n        this.setState({\r\n            startTimeMs: 0,\r\n            changeLayout: false,\r\n            disabled: false,\r\n            result: false,\r\n        });\r\n\r\n        let finishText = document.getElementById('finishText');\r\n        let leftText = document.getElementById('leftText');\r\n        let inputField = document.getElementById('inputField');\r\n\r\n        finishText.textContent = '';\r\n        leftText.textContent = '';\r\n        inputField.value = '';\r\n\r\n        this.props.reloadLesson();\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div className={style.InputBox}>\r\n                <input autoFocus\r\n                    disabled={this.state.disabled}\r\n                    onChange={this.handleChange}\r\n                    id='inputField'\r\n                />\r\n                <span className={style.displayText}>\r\n                    <span id='finishText' className={style.cursor} />\r\n                    <span id='leftText' className={style.unfinishedText}>{this.props.generatedText}</span>\r\n                </span>\r\n\r\n                {this.state.disabled && <FinishBoard result={this.state.result} reloadLesson={this.reloadLesson} />}\r\n\r\n                {this.state.changeLayout && <ChangeLayout layoutHandler={this.layoutHandler} />}\r\n            </div>\r\n        )\r\n    }\r\n\r\n};\r\n\r\n\r\nclass CustomInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            startTimeMs: 0,\r\n            changeLayout: false,\r\n            disabled: false,\r\n            result: false,\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let inputValue = event.target.value;\r\n        let generatedText = this.props.generatedText;\r\n\r\n        let allowedSymbols = [\r\n            'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',\r\n            'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\r\n            'u', 'v', 'w', 'x', 'y', 'z',\r\n            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',\r\n            'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',\r\n            'U', 'V', 'W', 'X', 'Y', 'Z',\r\n            '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',\r\n            ',', '.', `'`, ' ', ';', ':'\r\n        ];\r\n\r\n        if (inputValue.length === 1) {\r\n            this.setState({ startTimeMs: new Date().getTime() });\r\n        }\r\n\r\n        if (allowedSymbols.includes(inputValue.slice(-1))) {\r\n            this.handleMistake(inputValue, generatedText);\r\n            this.handleComplete(inputValue, generatedText);\r\n            this.completionPercentage(inputValue, generatedText);\r\n            this.charactersPerMinute(inputValue);\r\n\r\n            this.carriage();\r\n            this.props.passLastLetter(inputValue.slice(-1));\r\n\r\n        } else {\r\n            this.layoutHandler(true);\r\n        }\r\n    }\r\n\r\n    handleMistake = (inputValue, generatedText) => {\r\n\r\n        if (this.props.numberOfMistake === 2) {\r\n            this.handleDisable();\r\n        }\r\n\r\n        if (inputValue.slice(-1) !== generatedText[inputValue.length - 1]) {\r\n            this.props.mistakeCounter();\r\n            this.props.handleMistake(true);\r\n        } else {\r\n            this.props.handleMistake(false);\r\n        }\r\n    }\r\n\r\n    completionPercentage = (inputValue, generatedText) => {\r\n        let percentage = Math.ceil(inputValue.length / generatedText.length * 100);\r\n        this.props.completionPercentage(percentage);\r\n    }\r\n\r\n    charactersPerMinute = (inputValue) => {\r\n        let startTimeMs = this.state.startTimeMs;\r\n\r\n        let timePassedMs = new Date().getTime();\r\n        let timePassedMin = (timePassedMs - startTimeMs) / 1000 / 60;\r\n        let cpm = Math.ceil(inputValue.length / timePassedMin);\r\n\r\n        this.props.charactersPerMinute(cpm);\r\n    }\r\n\r\n    handleComplete = (inputValue, generatedText) => {\r\n        if (inputValue.length === generatedText.length) {\r\n            this.setState({ result: true });\r\n            this.handleDisable();\r\n        }\r\n    }\r\n\r\n    handleDisable = () => {\r\n        this.setState({ disabled: true });\r\n    }\r\n\r\n    layoutHandler = (boolean) => {\r\n        this.setState({ changeLayout: boolean })\r\n    }\r\n\r\n    carriage = () => {\r\n        let leftText = document.getElementById('leftText');\r\n        let finishText = document.getElementById('finishText');\r\n\r\n        finishText.textContent += leftText.textContent[0];\r\n        leftText.textContent = leftText.textContent.slice(1);\r\n    }\r\n\r\n    reloadLesson = () => {\r\n        this.setState({\r\n            startTimeMs: 0,\r\n            changeLayout: false,\r\n            disabled: false,\r\n            result: false,\r\n        });\r\n\r\n        let finishText = document.getElementById('finishText');\r\n        let leftText = document.getElementById('leftText');\r\n        let inputField = document.getElementById('inputField');\r\n\r\n        finishText.textContent = '';\r\n        leftText.textContent = '';\r\n        inputField.value = '';\r\n\r\n        this.props.reloadLesson();\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div className={style.InputBox}>\r\n                <input autoFocus\r\n                    disabled={this.state.disabled}\r\n                    onChange={this.handleChange}\r\n                    id='inputField'\r\n                />\r\n                <span className={style.displayText}>\r\n                    <span id='finishText' className={style.cursor} />\r\n                    <span id='leftText' className={style.unfinishedText}>{this.props.generatedText}</span>\r\n                </span>\r\n\r\n                {this.state.disabled && <FinishBoard result={this.state.result} reloadLesson={this.reloadLesson} />}\r\n\r\n                {this.state.changeLayout && <ChangeLayout layoutHandler={this.layoutHandler} />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nCustomInput.propTypes = {\r\n    generatedText: PropTypes.string,\r\n    reloadLesson: PropTypes.func,\r\n\r\n    numberOfMistake: PropTypes.number,\r\n    handleMistake: PropTypes.func,\r\n    mistakeCounter: PropTypes.func,\r\n\r\n    completionPercentage: PropTypes.func,\r\n    charactersPerMinute: PropTypes.func,\r\n\r\n    passLastLetter: PropTypes.func\r\n}\r\n\r\nexport default CustomInput;"]},"metadata":{},"sourceType":"module"}