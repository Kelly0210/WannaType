{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\wanna-type\\\\src\\\\Components\\\\CustomInput\\\\CustomInput.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport * as PropTypes from 'prop-types';\nimport FinishBoard from '../Board/FinishBoard';\nimport DisplayText from '../Display/DisplayText';\nimport style from './CustomInput.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomInput = props => {\n  _s();\n\n  const [isDisabled, disableInput] = React.useState(false);\n  const [isPassed, passedResult] = React.useState(false);\n  const [startTimeMs, setStopwatch] = React.useState(0);\n  const [value, changeValue] = React.useState('');\n  React.useEffect(() => {\n    if (value.length !== 0) {\n      props.passLastLetter(value.slice(-1));\n    }\n  }, [value]);\n  React.useEffect(() => {\n    if (value.slice(-1) !== props.generatedLesson.generatedText[value.length - 1]) {\n      props.mistakeCounter();\n      props.mistakeHappenedToggle(true);\n    } else {\n      props.mistakeHappenedToggle(false);\n    }\n\n    if (props.numberOfMistakes === 3) {\n      disableInput(true);\n      passedResult(false);\n    }\n  }, [value]);\n  React.useEffect(() => {\n    if (value.length === 1) {\n      setStopwatch(new Date().getTime());\n    }\n\n    if (value.length !== 0) {\n      let timePassedMs = new Date().getTime();\n      let timePassedMin = (timePassedMs - startTimeMs) / 1000 / 60;\n      let CPM = Math.ceil(value.length / timePassedMin);\n      props.charactersPerMinute(CPM);\n    }\n  }, [value.length]);\n  React.useEffect(() => {\n    if (value.length === props.generatedLesson.generatedText.length) {\n      passedResult(true);\n      disableInput(true);\n    }\n  }, [value.length, props.generatedLesson.generatedText.length]);\n  React.useEffect(() => {\n    let percentage = Math.ceil(value.length / props.generatedLesson.generatedText.length * 100);\n    props.completionPercentage(percentage);\n  });\n\n  const reloadLesson = () => {\n    setStopwatch(0);\n    disableInput(false);\n    passedResult(false);\n    changeValue('');\n    props.reloadLesson();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.InputBox,\n    children: [/*#__PURE__*/_jsxDEV(DisplayText, {\n      generatedText: props.generatedLesson.generatedText,\n      value: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      autoFocus: true,\n      value: value,\n      disabled: isDisabled,\n      onChange: event => changeValue(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), isDisabled && /*#__PURE__*/_jsxDEV(FinishBoard, {\n      isPassed: isPassed,\n      reloadLesson: reloadLesson,\n      generatedLesson: props.generatedLesson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CustomInput, \"DtYBRnqU/8ectXXcpOgevk0QYu0=\");\n\n_c = CustomInput;\nCustomInput.propTypes = {\n  generatedText: PropTypes.string,\n  reloadLesson: PropTypes.func,\n  numberOfMistake: PropTypes.number,\n  handleMistake: PropTypes.func,\n  mistakeCounter: PropTypes.func,\n  completionPercentage: PropTypes.func,\n  charactersPerMinute: PropTypes.func,\n  passLastLetter: PropTypes.func\n};\nexport default CustomInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomInput\");","map":{"version":3,"sources":["C:/projects/wanna-type/src/Components/CustomInput/CustomInput.jsx"],"names":["React","PropTypes","FinishBoard","DisplayText","style","CustomInput","props","isDisabled","disableInput","useState","isPassed","passedResult","startTimeMs","setStopwatch","value","changeValue","useEffect","length","passLastLetter","slice","generatedLesson","generatedText","mistakeCounter","mistakeHappenedToggle","numberOfMistakes","Date","getTime","timePassedMs","timePassedMin","CPM","Math","ceil","charactersPerMinute","percentage","completionPercentage","reloadLesson","InputBox","event","target","propTypes","string","func","numberOfMistake","number","handleMistake"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport FinishBoard from '../Board/FinishBoard';\r\nimport DisplayText from '../Display/DisplayText';\r\nimport style from './CustomInput.module.css';\r\n\r\nconst CustomInput = (props) => {\r\n    const [isDisabled, disableInput] = React.useState(false);\r\n    const [isPassed, passedResult] = React.useState(false);\r\n    const [startTimeMs, setStopwatch] = React.useState(0);\r\n    const [value, changeValue] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        if (value.length !== 0) {\r\n            props.passLastLetter(value.slice(-1));\r\n        }\r\n    }, [value]);\r\n\r\n    React.useEffect(() => {\r\n        if (value.slice(-1) !== props.generatedLesson.generatedText[value.length - 1]) {\r\n            props.mistakeCounter();\r\n            props.mistakeHappenedToggle(true);\r\n        } else {\r\n            props.mistakeHappenedToggle(false);\r\n        }\r\n\r\n        if (props.numberOfMistakes === 3) {\r\n            disableInput(true);\r\n            passedResult(false);\r\n        }\r\n    }, [value]);\r\n\r\n    React.useEffect(() => {\r\n        if (value.length === 1) {\r\n            setStopwatch(new Date().getTime());\r\n        }\r\n        if (value.length !== 0) {\r\n            let timePassedMs = new Date().getTime();\r\n            let timePassedMin = (timePassedMs - startTimeMs) / 1000 / 60;\r\n            let CPM = Math.ceil(value.length / timePassedMin);\r\n\r\n            props.charactersPerMinute(CPM);\r\n        }\r\n    }, [value.length]);\r\n\r\n    React.useEffect(() => {\r\n        if (value.length === props.generatedLesson.generatedText.length) {\r\n            passedResult(true);\r\n            disableInput(true);\r\n        }\r\n    }, [value.length, props.generatedLesson.generatedText.length]);\r\n\r\n    React.useEffect(() => {\r\n        let percentage = Math.ceil(value.length / props.generatedLesson.generatedText.length * 100);\r\n        props.completionPercentage(percentage);\r\n    });\r\n\r\n    const reloadLesson = () => {\r\n        setStopwatch(0);\r\n        disableInput(false);\r\n        passedResult(false);\r\n        changeValue('');\r\n\r\n        props.reloadLesson();\r\n    };\r\n\r\n    return (\r\n        <div className={style.InputBox}>\r\n            <DisplayText generatedText={props.generatedLesson.generatedText} value={value} />\r\n\r\n            <input autoFocus\r\n                value={value}\r\n                disabled={isDisabled}\r\n                onChange={event => changeValue(event.target.value)} />\r\n\r\n            {isDisabled && <FinishBoard isPassed={isPassed}\r\n             reloadLesson={reloadLesson} generatedLesson={props.generatedLesson}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nCustomInput.propTypes = {\r\n    generatedText: PropTypes.string,\r\n    reloadLesson: PropTypes.func,\r\n\r\n    numberOfMistake: PropTypes.number,\r\n    handleMistake: PropTypes.func,\r\n    mistakeCounter: PropTypes.func,\r\n\r\n    completionPercentage: PropTypes.func,\r\n    charactersPerMinute: PropTypes.func,\r\n    passLastLetter: PropTypes.func\r\n};\r\n\r\nexport default CustomInput;"]},"metadata":{},"sourceType":"module"}